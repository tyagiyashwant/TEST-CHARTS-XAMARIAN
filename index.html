<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Charts Testing</title>
</head>

<body>
    <canvas id="chart" width="400" height="200"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

    <script>
        var jsonData = [{
                "GroupKey": "February 2017",
                "TotalSpent": 484.64,
                "TotalHsaSpent": 0,
                "ProductList": [
                    "Banana",
                    "Tylinol",
                    "Flonaise",
                    "Water Bottle"
                ],
                "ReceiptIdList": [
                    2,
                    15,
                    46
                ]
            },
            {
                "GroupKey": "January 2017",
                "TotalSpent": 110.44,
                "TotalHsaSpent": 0,
                "ProductList": [
                    "Flonaise",
                    "DayQuil"
                ],
                "ReceiptIdList": [
                    5,
                    12,
                    36,
                    37,
                    64,
                    73,
                    87
                ]
            },
            {
                "GroupKey": "October 2016",
                "TotalSpent": 703.31,
                "TotalHsaSpent": 0,
                "ProductList": [
                    "Tylinol",
                    "Water Bottle",
                    "Flonaise",
                    "DayQuil"
                ],
                "ReceiptIdList": [
                    9,
                    11,
                    14,
                    27,
                    74,
                    78,
                    93
                ]
            },
            {
                "GroupKey": "November 2016",
                "TotalSpent": 1566.88,
                "TotalHsaSpent": 0,
                "ProductList": [
                    "Banana",
                    "DayQuil",
                    "Flonaise",
                    "Tylinol",
                    "Water Bottle"
                ],
                "ReceiptIdList": [
                    13,
                    26,
                    40,
                    66,
                    88,
                    89,
                    90
                ]
            },
            {
                "GroupKey": "December 2016",
                "TotalSpent": 920.9,
                "TotalHsaSpent": 0,
                "ProductList": [
                    "Tylinol",
                    "Banana",
                    "DayQuil",
                    "Water Bottle"
                ],
                "ReceiptIdList": [
                    28,
                    43,
                    48,
                    50,
                    57,
                    59,
                    61,
                    62,
                    81,
                    91,
                    99
                ]
            },
            {
                "GroupKey": "March 2017",
                "TotalSpent": 1642.72,
                "TotalHsaSpent": 84.32,
                "ProductList": [
                    "Tacos",
                    "Mtn Dew",
                    "Mac Mouse",
                    "Drone",
                    "Tylinol",
                    "Test Sabrent Item",
                    "test lac",
                    "Eraser",
                    "WS-853",
                    "Sabrent",
                    "Mac and Cheese",
                    "Belladonna",
                    "Metronidazole",
                    "ASPIRIN, CHLORPHENIRAMINE MALEATE, and PHENYLEPHRINE BITARTRATE",
                    "Lisinopril",
                    "Naproxen Sodium",
                    "ORG VEG TRAY",
                    "PCK SALAD",
                    "Gl.D PEAK TEA"
                ],
                "ReceiptIdList": [
                    101,
                    102,
                    103,
                    107,
                    108,
                    109,
                    110,
                    111,
                    112,
                    113,
                    114,
                    115,
                    116,
                    117,
                    118,
                    119,
                    120,
                    121,
                    122,
                    123,
                    124,
                    125,
                    126,
                    127,
                    128,
                    129,
                    130,
                    134,
                    135,
                    137,
                    138,
                    139,
                    140,
                    141
                ]
            },
            {
                "GroupKey": "April 2017",
                "TotalSpent": 923.45,
                "TotalHsaSpent": 0,
                "ProductList": [
                    "R",
                    "TAX 2 5.9",
                    "1 Cheese Fries",
                    "1 Seagrams 7",
                    "R ORG VEG TRAY",
                    "R PCK SALAD",
                    "R GID PEAK TEA",
                    "13PM Tota",
                    "Tax",
                    "Subtota",
                    "X",
                    "",
                    "I OTAL",
                    ")",
                    "1 l ()IAI PUNRCHASt.",
                    "13PM Total"
                ],
                "ReceiptIdList": [
                    152,
                    153,
                    156,
                    157,
                    166,
                    167,
                    170,
                    172,
                    173
                ]
            }
        ]
        var ctx = "chart";
        
        // Convert JSON to Chart.js format
        var dataLabels = [];
        var dataData = [];
        var dataColors = [];
        
        jsonData.forEach(function(packet) {
            dataLabels.push(packet.GroupKey);
            dataData.push(packet.TotalSpent);
            dataColors.push('#'+Math.floor(Math.random()*16777215).toString(16));
        })
        
        console.dir(dataData);
        
        var data = {
            labels: dataLabels,
            datasets: [{
                data: dataData,
                backgroundColor: dataColors,
                // backgroundColor: [
                //     "#FF6384",
                //     "#36A2EB",
                //     "#FFCE56"
                // ],
                // hoverBackgroundColor: [
                //     "#FF6384",
                //     "#36A2EB",
                //     "#FFCE56"
                // ]
            }]
        };
        var myPieChart = new Chart(ctx, {
            type: 'pie',
            data: data
        });
        console.dir(jsonData);
    </script>
</body>

</html>